(this["webpackJsonpwheres-waldo"]=this["webpackJsonpwheres-waldo"]||[]).push([[0],{21:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n.n(r),a=n(15),i=n.n(a),o=(n(21),n(9)),s=n(11),l={apiKey:"AIzaSyA7lyPyI42XBZIvt4c05DVfw87Tu-4IqZU",authDomain:"wheres-waldo-odin-jp.firebaseapp.com",projectId:"wheres-waldo-odin-jp",storageBucket:"wheres-waldo-odin-jp.appspot.com",messagingSenderId:"179199665105",appId:"1:179199665105:web:6e232fa769b6e39befb6f0"};s.a.initializeApp(l);var u=s.a,j=(n(14),n(1));var d=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=u.storage(),t=[];e.ref("to-find").list().then((function(e){var n=e.items.map((function(e){return t.push(e.name),e.getDownloadURL()}));return Promise.all(n)})).then((function(e){var n=e.map((function(e,n){return{url:e,name:t[n]}}));c(n)})).catch((function(e){console.log("Error retrieving images: ",e)}))}),[]),n.length>0?Object(j.jsx)("ul",{children:n.map((function(e,t){return Object(j.jsx)("li",{children:Object(j.jsx)("img",{src:e.url,alt:e.name})},t)}))}):Object(j.jsx)("p",{children:"Loading images..."})};var b=function(){var e=Object(r.useRef)(Date.now()),t=Object(r.useState)(e.current),n=Object(o.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){var e=setInterval((function(){a(Date.now())}),1e3);return function(){clearInterval(e)}}),[]),Object(j.jsx)("p",{children:Math.floor((c-e.current)/1e3)})};var h=function(e){return Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{children:"Gotta Catch 'Em All!"}),e.gameStarted&&Object(j.jsxs)("div",{className:"progress-bar",children:[Object(j.jsx)(d,{}),Object(j.jsx)(b,{})]})]})},f=n(12),m=n.n(f),x=n(16);var g=function(e){var t=e.top,n=e.left;if(null!==t&&null!==n){var r=window.innerWidth>1e3?110:window.innerWidth/10+10;return t+=r/2,n+=r/2,Object(j.jsx)("div",{className:"dropdown-box",style:{top:t,left:n},children:Object(j.jsxs)("ul",{onClick:e.handleClick,children:[Object(j.jsx)("li",{children:Object(j.jsx)("button",{id:"charizard",children:"Charizard"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{id:"greninja",children:"Greninja"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{id:"shinytentacool",children:"Shiny Tentacool"})}),Object(j.jsx)("li",{children:Object(j.jsx)("button",{id:"missingno",children:"MissingNo."})})]})})}return null};var O=function(e){var t=e.top,n=e.left;if(null!==t&&null!==n){var r=window.innerWidth>1e3?110:window.innerWidth/10+10;return t-=r/2,n-=r/2,Object(j.jsx)("div",{className:"target-box",style:{top:t,left:n}})}return null};n(27);var p=function(){var e=Object(r.useState)({x:null,y:null}),t=Object(o.a)(e,2),n=t[0],c=t[1];function a(){return(a=Object(x.a)(m.a.mark((function e(t){var r,c,a,i,o,s,l,j,d,b,h,f,x,g,O,p,v;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("BUTTON"===t.target.tagName){e.next=3;break}return console.log("Please click a button"),e.abrupt("return");case 3:return e.prev=3,r=t.target.id,c=u.firestore(),e.next=8,c.collection("location").doc(r).get();case 8:a=e.sent,i=a.data(),o=i.xMin,s=i.xMax,l=i.yMin,j=i.yMax,d=window.innerWidth>1e3?110:window.innerWidth/10+10,b=document.getElementById("main-image"),h=b.scrollWidth,f=b.scrollHeight,x=(n.x-d/2)/h,g=(n.x+d/2)/h,O=.2*window.innerHeight,p=(n.y-d/2-O)/f,v=(n.y+d/2-O)/f,x>s||g<o||p>j||v<l?console.log("Oops, that's not ".concat(t.target.textContent)):console.log("You found ".concat(t.target.textContent,"!")),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[3,23]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){u.firestore().collection("timer").doc("timestamps").set({startTime:Date.now()}).catch((function(e){console.error("Error writing document: ",e)}))}),[]),Object(r.useEffect)((function(){u.storage().ref("main-image").list().then((function(e){return e.items[0].getDownloadURL()})).then((function(e){document.getElementById("main-image").src=e})).catch((function(e){console.error("Error retrieving image url: ",e)}))}),[]),Object(j.jsxs)("div",{className:"game-screen",children:[Object(j.jsx)(g,{top:n.y,left:n.x,handleClick:function(e){return a.apply(this,arguments)}}),Object(j.jsx)(O,{top:n.y,left:n.x}),Object(j.jsx)("img",{id:"main-image",onClick:function(e){var t=e.pageX,n=e.pageY;console.log("pageX: "+t,"pageY: "+n),c({x:t,y:n})},src:"",alt:"All Pok\xe9mon from Generations I-VI"}),Object(j.jsx)("a",{href:"https://www.deviantart.com/viking011/art/Pokemon-Poster-436455502",target:"_blank",rel:"noreferrer",children:"Art by Viking011 on DeviantArt"})]})};var v=function(e){return Object(j.jsxs)("div",{className:"start-screen",children:[Object(j.jsx)("p",{children:"Can you find and catch these Pok\xe9mon?"}),Object(j.jsx)("p",{children:"Click to capture."}),Object(j.jsx)(d,{}),Object(j.jsx)("button",{onClick:e.startGame,children:"Start"})]})};var w=function(e){return Object(j.jsx)("main",{children:e.gameStarted?Object(j.jsx)(p,{}):Object(j.jsx)(v,{startGame:e.startGame})})};n(25);var y=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{gameStarted:n}),Object(j.jsx)(w,{gameStarted:n,startGame:function(){c(!0)}})]})};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.68390d71.chunk.js.map